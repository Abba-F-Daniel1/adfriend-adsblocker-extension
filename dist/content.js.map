{"version":3,"file":"content.js","sources":["../src/content/content.tsx"],"sourcesContent":["import type { ReplacedElement } from \"../types\";\n\n// Simple Message type definition\ninterface Message {\n  type: \"CONTENT_SCRIPT_READY\" | \"DISABLE_ADFRIEND\" | \"ENABLE_ADFRIEND\";\n}\n\n// Keep track of replaced elements to restore them\nlet replacedElements: ReplacedElement[] = [];\n\n// Content collections\nconst inspirationalQuotes = [\n  \"The only way to do great work is to love what you do. - Steve Jobs\",\n  \"Innovation distinguishes between a leader and a follower. - Steve Jobs\",\n  \"Stay hungry, stay foolish. - Steve Jobs\",\n  \"The future belongs to those who believe in the beauty of their dreams. - Eleanor Roosevelt\",\n  \"Success is not final, failure is not fatal. - Winston Churchill\",\n  \"Be the change you wish to see in the world. - Mahatma Gandhi\",\n  \"Everything you've ever wanted is on the other side of fear. - George Addair\",\n  \"The best way to predict the future is to create it. - Peter Drucker\",\n  \"Believe you can and you're halfway there. - Theodore Roosevelt\",\n  \"Your time is limited, don't waste it living someone else's life. - Steve Jobs\",\n  \"Life is 10% what happens to you and 90% how you react to it. - Charles R. Swindoll\",\n  \"The journey of a thousand miles begins with one step. - Lao Tzu\",\n  \"What you do today can improve all your tomorrows. - Ralph Marston\",\n  \"The secret of getting ahead is getting started. - Mark Twain\",\n  \"Don't watch the clock; do what it does. Keep going. - Sam Levenson\",\n  \"Quality is not an act, it is a habit. - Aristotle\",\n  \"The harder you work for something, the greater you'll feel when you achieve it.\",\n  \"Dream big and dare to fail. - Norman Vaughan\",\n  \"Wake up determined, go to bed satisfied.\",\n  \"The only limit to our realization of tomorrow will be our doubts of today. - Franklin D. Roosevelt\",\n];\n\nconst scienceFacts = [\n  \"A teaspoonful of neutron star would weigh 6 billion tons.\",\n  \"Honeybees can recognize human faces.\",\n  \"Light travels at 299,792,458 meters per second.\",\n  \"A day on Venus is longer than its year.\",\n  \"DNA is about 98% identical in humans and chimpanzees.\",\n  \"The human brain processes images in just 13 milliseconds.\",\n  \"Quantum entanglement allows particles to instantly share their quantum states.\",\n  \"There are more possible iterations of a game of chess than atoms in the universe.\",\n  \"The Milky Way galaxy is moving through space at 2.1 million kilometers per hour.\",\n  \"The average human body contains enough carbon to make 900 pencils.\",\n  \"A single lightning bolt contains enough energy to toast 100,000 slices of bread.\",\n  \"The human body generates enough heat in 30 minutes to boil a gallon of water.\",\n  \"Bananas are berries, but strawberries aren't.\",\n  \"The Great Wall of China is not visible from space with the naked eye.\",\n  \"A hummingbird's heart beats up to 1,260 times per minute.\",\n  \"Octopuses have three hearts and blue blood.\",\n  \"The universe is expanding faster than the speed of light.\",\n  \"Time passes faster at your head than at your feet.\",\n  \"A single cloud can weigh more than a million pounds.\",\n  \"There are more trees on Earth than stars in the Milky Way.\",\n];\n\nconst healthReminders = [\n  \"Time for a posture check! Sit up straight 🪑\",\n  \"Remember to stay hydrated! Drink some water 💧\",\n  \"Take a break! Look away from the screen for 20 seconds 👀\",\n  \"Stand up and stretch for a minute 🧘‍♂️\",\n  \"Deep breathing exercise: Take 3 deep breaths 🫁\",\n  \"Relax your shoulders and unclench your jaw 😌\",\n  \"Time for a quick walk around! Get moving 🚶‍♂️\",\n  \"Blink your eyes several times to prevent eye strain 👁️\",\n  \"Roll your shoulders and neck gently 🔄\",\n  \"Check your screen brightness and distance 🖥️\",\n  \"Time to refill your water bottle! Stay hydrated 🚰\",\n  \"Do some ankle and wrist rotations 🔄\",\n  \"Practice the 20-20-20 rule: Look 20ft away for 20s every 20min 👀\",\n  \"Time for a mindful minute of meditation 🧘\",\n  \"Stretch your arms and fingers 🤸‍♂️\",\n  \"Check your sitting position and adjust if needed 💺\",\n  \"Remember to take your vitamins! 💊\",\n  \"Time for a healthy snack! Grab some fruits 🍎\",\n  \"Stand up and do some light exercises 🏃‍♂️\",\n  \"Take a moment to practice gratitude 🙏\",\n];\n\n// Animation keyframes\nconst animations = `\n  @keyframes fadeIn {\n    from { opacity: 0; transform: translateY(20px); }\n    to { opacity: 1; transform: translateY(0); }\n  }\n\n  @keyframes pulse {\n    0% { transform: scale(1); }\n    50% { transform: scale(1.05); }\n    100% { transform: scale(1); }\n  }\n\n  @keyframes shimmer {\n    0% { background-position: -200% center; }\n    100% { background-position: 200% center; }\n  }\n\n  @keyframes float {\n    0% { transform: translateY(0px); }\n    50% { transform: translateY(-10px); }\n    100% { transform: translateY(0px); }\n  }\n\n  @keyframes rotate {\n    from { transform: rotate(0deg); }\n    to { transform: rotate(360deg); }\n  }\n`;\n\n// Add animations to document\nconst style = document.createElement(\"style\");\nstyle.textContent = animations;\ndocument.head.appendChild(style);\n\n// Content types\ntype ContentType = \"quote\" | \"fact\" | \"reminder\";\n\n// Function to get random content\nfunction getRandomContent(type: ContentType): string {\n  switch (type) {\n    case \"quote\":\n      return inspirationalQuotes[\n        Math.floor(Math.random() * inspirationalQuotes.length)\n      ];\n    case \"fact\":\n      return scienceFacts[Math.floor(Math.random() * scienceFacts.length)];\n    case \"reminder\":\n      return healthReminders[\n        Math.floor(Math.random() * healthReminders.length)\n      ];\n    default:\n      return inspirationalQuotes[0];\n  }\n}\n\n// Function to create inspirational content\nfunction createInspirationalContent(): HTMLElement {\n  const container = document.createElement(\"div\");\n  container.className = \"adfriend-inspiration\";\n\n  const contentTypes: ContentType[] = [\"quote\", \"fact\", \"reminder\"];\n  const randomType =\n    contentTypes[Math.floor(Math.random() * contentTypes.length)];\n\n  const gradients = {\n    quote: \"linear-gradient(135deg, #4f46e5, #818cf8)\",\n    fact: \"linear-gradient(135deg, #059669, #34d399)\",\n    reminder: \"linear-gradient(135deg, #db2777, #f472b6)\",\n  };\n\n  const shimmerGradient = {\n    quote:\n      \"linear-gradient(90deg, #4f46e5 0%, #818cf8 25%, #4f46e5 50%, #818cf8 75%, #4f46e5 100%)\",\n    fact: \"linear-gradient(90deg, #059669 0%, #34d399 25%, #059669 50%, #34d399 75%, #059669 100%)\",\n    reminder:\n      \"linear-gradient(90deg, #db2777 0%, #f472b6 25%, #db2777 50%, #f472b6 75%, #db2777 100%)\",\n  };\n\n  container.style.cssText = `\n    padding: 20px;\n    background: ${gradients[randomType]};\n    background-size: 200% auto;\n    color: white;\n    border-radius: 12px;\n    text-align: center;\n    font-family: system-ui, -apple-system, sans-serif;\n    box-shadow: 0 8px 16px -4px rgba(0, 0, 0, 0.1);\n    margin: 15px 0;\n    transition: all 0.3s ease;\n    cursor: pointer;\n    animation: fadeIn 0.5s ease-out, float 3s ease-in-out infinite;\n    position: relative;\n    overflow: hidden;\n  `;\n\n  const content = document.createElement(\"p\");\n  content.textContent = getRandomContent(randomType);\n  content.style.cssText = `\n    margin: 0;\n    font-size: 14px;\n    line-height: 1.5;\n    font-weight: 500;\n    position: relative;\n    z-index: 1;\n  `;\n\n  // Add shimmer effect\n  const shimmer = document.createElement(\"div\");\n  shimmer.style.cssText = `\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: ${shimmerGradient[randomType]};\n    background-size: 200% auto;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  `;\n\n  // Interactive effects\n  container.addEventListener(\"mouseenter\", () => {\n    container.style.transform = \"scale(1.02) translateY(-5px)\";\n    container.style.boxShadow = \"0 12px 24px -8px rgba(0, 0, 0, 0.2)\";\n    shimmer.style.opacity = \"0.1\";\n    shimmer.style.animation = \"shimmer 2s linear infinite\";\n  });\n\n  container.addEventListener(\"mouseleave\", () => {\n    container.style.transform = \"scale(1) translateY(0)\";\n    container.style.boxShadow = \"0 8px 16px -4px rgba(0, 0, 0, 0.1)\";\n    shimmer.style.opacity = \"0\";\n    shimmer.style.animation = \"none\";\n  });\n\n  // Click effect with random animation\n  container.addEventListener(\"click\", () => {\n    const animations = [\"pulse\", \"rotate\"];\n    const randomAnimation =\n      animations[Math.floor(Math.random() * animations.length)];\n    content.textContent = getRandomContent(randomType);\n    container.style.animation = `${randomAnimation} 0.5s ease-in-out`;\n\n    // Reset animation\n    setTimeout(() => {\n      container.style.animation = \"float 3s ease-in-out infinite\";\n    }, 500);\n  });\n\n  container.appendChild(shimmer);\n  container.appendChild(content);\n  return container;\n}\n\n// Function to replace ad with inspirational content\nfunction replaceAdWithInspiration(adElement: Element): void {\n  const inspiration = createInspirationalContent();\n\n  // Store original element and its replacement\n  replacedElements.push({\n    original: adElement.cloneNode(true) as Element,\n    replacement: inspiration,\n  });\n\n  // Replace the ad\n  adElement.replaceWith(inspiration);\n}\n\n// Function to restore original ads\nfunction restoreOriginalAds(): void {\n  replacedElements.forEach(({ original, replacement }) => {\n    try {\n      if (replacement.parentNode) {\n        replacement.replaceWith(original);\n      }\n    } catch (error) {\n      console.log(\"[AdFriend] Error restoring element:\", error);\n    }\n  });\n  // Clear the stored elements\n  replacedElements = [];\n}\n\n// Set up MutationObserver for dynamic ad detection\nconst adSelectors = [\n  // Basic ad patterns\n  '[id^=\"ad-\"],[id^=\"ads-\"],[class^=\"ad-\"],[class^=\"ads-\"]',\n  '[id*=\"advertisement\"],[class*=\"advertisement\"]',\n  '[id*=\"banner-ad\"],[class*=\"banner-ad\"]',\n  '[id*=\"sponsored-\"],[class*=\"sponsored-\"]',\n  // Enhanced popup and overlay selectors\n  '[class*=\"popup\"],[id*=\"popup\"],[class*=\"modal\"],[id*=\"modal\"]',\n  '[class*=\"overlay\"],[id*=\"overlay\"],[class*=\"lightbox\"],[id*=\"lightbox\"]',\n  '[class*=\"dialog\"],[id*=\"dialog\"],[role=\"dialog\"],[aria-modal=\"true\"]',\n  // Common promotional elements\n  '[class*=\"promo\"],[id*=\"promo\"]',\n  '[class*=\"banner\"],[id*=\"banner\"]',\n  '[class*=\"newsletter\"],[id*=\"newsletter\"]',\n];\n\n// Observer callback\nconst observerCallback = (mutations: MutationRecord[]): void => {\n  chrome.storage.sync.get([\"enabled\"], (result) => {\n    if (!result.enabled) return;\n\n    mutations.forEach((mutation) => {\n      mutation.addedNodes.forEach((node) => {\n        if (node.nodeType === 1) {\n          const element = node as Element;\n          adSelectors.forEach((selector) => {\n            if (element.matches?.(selector)) {\n              replaceAdWithInspiration(element);\n            }\n            element.querySelectorAll(selector).forEach((adElement) => {\n              replaceAdWithInspiration(adElement);\n            });\n          });\n        }\n      });\n    });\n  });\n};\n\n// Create and start observer\nconst observer = new MutationObserver(observerCallback);\n\n// Start observing if extension is enabled\nchrome.storage.sync.get([\"enabled\"], (result) => {\n  if (result.enabled) {\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true,\n    });\n\n    // Handle existing ads\n    adSelectors.forEach((selector) => {\n      document.querySelectorAll(selector).forEach((adElement) => {\n        replaceAdWithInspiration(adElement);\n      });\n    });\n  }\n});\n\n// Listen for messages from background script\nchrome.runtime.onMessage.addListener((message: Message) => {\n  if (message.type === \"DISABLE_ADFRIEND\") {\n    observer.disconnect();\n    restoreOriginalAds();\n  } else if (message.type === \"ENABLE_ADFRIEND\") {\n    observer.observe(document.body, {\n      childList: true,\n      subtree: true,\n    });\n    adSelectors.forEach((selector) => {\n      document.querySelectorAll(selector).forEach((adElement) => {\n        replaceAdWithInspiration(adElement);\n      });\n    });\n  }\n});\n"],"names":["replacedElements","inspirationalQuotes","scienceFacts","healthReminders","animations","style","getRandomContent","type","createInspirationalContent","container","contentTypes","randomType","gradients","shimmerGradient","content","shimmer","randomAnimation","replaceAdWithInspiration","adElement","inspiration","restoreOriginalAds","original","replacement","error","adSelectors","observerCallback","mutations","result","mutation","node","element","selector","_a","observer","message"],"mappings":"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"}